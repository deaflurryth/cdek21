import requests

from typing import Dict, Optional
from boltons.iterutils import remap


class CDEK2Client:
    __CDEK_URL = 'https://api.cdek.ru'
    __AUTH_URL = '/v2/oauth/token?parameters'
    __DELIVERY_POINTS_URL = '/v2/deliverypoints'
    __DELIVERY_COST_URL = '/v2/calculator/tarifflist'
    __DELIVERY_CODE_URL = "/v2/location/cities"
    __HEADER_REQUEST = None

    def __init__(
            self,
            client_id: str,
            client_secret: str,
            grant_type: str = 'client_credentials',
    ):
        self.__HEADER_REQUEST = self.__get_header_request(
            grant_type=grant_type,
            client_id=client_id,
            client_secret=client_secret)

    def __exec_request(
            self,
            url: str,
            data: Dict = None,
            method: str = 'GET',
    ) -> requests.Response:
        '''
        Возвращает ответ сервера на отправленный запрос.

        url - Путь к требуемому методу.
        data - Параметры запроса.
        method - POST/GET.
        '''

        if isinstance(data, dict):
            data = remap(data, lambda p, k, v: v is not None)

        url = self.__CDEK_URL + url

        if method == 'GET':
            response = requests.get(
                url=url,
                headers=self.__HEADER_REQUEST,
                params=data)
        elif method == 'POST':
            if self.__HEADER_REQUEST == None:
                response = requests.post(
                    url=url,
                    params=data)
            else:
                response = requests.post(
                    url=url,
                    headers=self.__HEADER_REQUEST,
                    json=data)
        else:
            raise NotImplementedError(f'Unknown method "{method}"')

        response.raise_for_status()

        return response

    def __get_header_request(
            self,
            grant_type: str,
            client_id: str,
            client_secret: str
    ) -> Dict[str, str]:
        '''
        Возвращает заголовок запроса с токеном авторизации
        и форматом JSON (Content-Type: application/json).

        grant_type - Тип аутентификации, доступное значение.
        client_id - идентификатор клиента, равен Accoun.
        client_secret - секретный ключ клиента, равен Secure password.
        '''
        data = {
            'grant_type': grant_type,
            'client_id': client_id,
            'client_secret': client_secret,
        }
        response = self.__exec_request(
            url=self.__AUTH_URL,
            data=data,
            method='POST',
        ).json()

        access_token = response['token_type'].capitalize() + \
                       ' ' + response['access_token']
        header = {
            'Authorization': access_token,
            'Content-Type': 'application/json',
            'Accept': 'application/json',
        }
        return header

    def get_delivery_points(
            self,
            city_code: int = None,
            type: str = 'PVZ',
            country_code: str = 'RU',
    ) -> Optional[Dict]:
        '''
        Возвращает пункты выдачи заказов.

        city_code - Код населенного пункта СДЭК.
        type - Тип офиса, может принимать значения (PVZ/POSTAMAT/ALL).
        country_code - Код страны в формате ISO_3166-1_alpha-2.
        '''

        data = {
            'city_code': city_code,
            'type': type,
            'country_code': country_code,
        }
        response = self.__exec_request(
            url=self.__DELIVERY_POINTS_URL,
            data=data,
        ).json()
        return response

    def get_delivery_cost(
            self,
            sender_city_code: int,
            receiver_city_code: int,
            goods: Optional[Dict],
            tariff_code: int = 483,  # Экспресс склад-склад.
    ) -> Dict:
        '''
        Возвращает стоимость доставки.

        sender_city_code - Код населенного пункта отправителя СДЭК.
        receiver_city_code - Код населенного пункта получателя СДЭК.
        goods - Товары в виде списка, пример:
        [
            {
                'weight': 1000,
                'length': 10,
                'width': 10,
                'height': 10,
            },
        ]
        tariff_code - Код тарифа СДЭК.
        '''
        data = {
            'from_location': {
                'code': sender_city_code,
            },
            'to_location': {
                'code': receiver_city_code,
            },
            'packages': goods,
        }
        response = self.__exec_request(
            url=self.__DELIVERY_COST_URL,
            data=data,
            method='POST',
        ).json()
        return response

    def get_code(self):
        response = self.__exec_request(
            url=self.__DELIVERY_CODE_URL,
            method='GET',
        ).json()
        return response

dict_city_code = {'Усинск': 5, 'Алтайское': 6, 'Миасс': 7, 'Свирск': 8, 'Новотроицк': 11, 'Новый Уренгой': 12, 'Белореченск': 13, 'Пучеж': 14, 'Египет': 16, 'Пушкино': 17, 'Вилюйск': 19, 'Радужный': 20, 'Егорьевск': 21, 'Заборье': 22, 'Южная Корея': 23, 'Талнах': 26, 'Испания': 27, 'Внуково': 28, 'Ванино': 29, 'Швейцария': 31, 'Австрия': 32, 'Туапсе': 34, 'Горячий Ключ': 1066, 'Медногорск': 36, 'Сингапур': 38, 'Незнамово': 39, 'Яхрома': 40, 'Суздаль': 42, 'Москва': 44, 'Химки Новые': 45, 'Сходня': 47, 'Веселоярск': 49, 'Пурпе': 51, 'Артем': 53, 'Изобильный': 54, 'Корсаков': 56, 'Люберцы': 57, 'Беседы': 61, 'Кисловодск': 62, 'Дубна': 65, 'Сылва': 66, 'Холмск': 68, 'Наро-Фоминск': 69, 'Искитим': 70, 'Нижняя Салда': 72, 'Покачи': 73, 'Большое Буньково': 74, 'Фрязино': 76, 'Майма': 77, 'Тосно': 78, 'Кашира': 80, 'Луга': 81, 'Исилькуль': 82, 'Дашковка': 83, 'Приозерск': 84, 'Пикалево': 88, 'Актау': 90, 'Франция': 91, 'Курган': 93, 'Владимир': 94, 'Желтая Акация': 97, 'Заринск': 98, 'Бугуруслан': 100, 'Байкит': 101, 'Лихтенштейн': 103, 'Белоярский': 105, 'Салават': 111, 'Красноуфимск': 113, 'Солнцево': 114, 'Жулебино': 117, 'Семеново': 119, 'Молоково': 121, 'Ступино': 122, 'Нефтекумск': 127, 'Селятино': 129, 'Майский': 131, 'Старый Оскол': 132, 'Красково': 133, 'Санкт-Петербург': 137, 'Кингисепп': 138, 'Великий Новгород': 139, 'Йошкар-Ола': 141, 'Калуга': 142, 'Людиново': 144, 'Ахтубинск': 145, 'Ярославль': 146, 'Рыбинск': 147, 'Некрасовка': 148, 'Орел': 149, 'Тула': 150, 'Пятигорск': 151, 'Калининград': 152, 'Нижнекамск': 153, 'Лянтор': 154, 'Светлый Яр': 155, 'Подольск': 157, 'Свердловский': 158, 'Рязань': 159, 'Щербинка': 162, 'Иваново': 164, 'Кострома': 165, 'Ковалерово': 166, 'Лыткарино': 167, 'Электросталь': 168, 'Серпухов': 169, 'Черноголовка': 171, 'Орехово-Зуево': 172, 'Октябрьский': 657, 'ОАЭ': 176, 'Рошаль': 177, 'Зеленоград': 184, 'Развилка': 185, 'Польша': 186, 'Переславль-Залесский': 187, 'Ковдор': 191, 'Омутнинск': 197, 'Минеральные Воды': 199, 'Тихорецк': 203, 'Королев': 205, 'Новошахтинск': 206, 'Элиста': 207, 'Лениногорск': 213, 'Энгельс': 214, 'Финляндия': 219, 'Брянск': 220, 'Вороново': 221, 'Калининск': 222, 'Ижевск': 224, 'Осеченки': 225, 'Дедовск': 226, 'Пыть-Ях': 229, 'Улан-Удэ': 230, 'Чита': 231, 'Приморье': 232, 'Кирово-Чепецк': 241, 'Тверь': 245, 'Вологда': 246, 'Новосергиевка': 247, 'Пермь': 248, 'Белорецк': 249, 'Екатеринбург': 250, 'Нижний Тагил': 251, 'Тюмень': 252, 'Клин': 253, 'Сургут': 254, 'Нижневартовск': 255, 'Уфа': 256, 'Стерлитамак': 257, 'Магнитогорск': 258, 'Челябинск': 259, 'Люксембург': 260, 'Оренбург': 261, 'Мурманск': 265, 'Омск': 268, 'Томск': 269, 'Новосибирск': 270, 'Калач-на-Дону': 271, 'Кемерово': 272, 'Новокузнецк': 273, 'Барнаул': 274, 'Бийск': 275, 'Красноярск': 278, 'Норильск': 279, 'Ангарск': 280, 'Иркутск': 281, 'Якутск': 283, 'Петропавловск-Камчатский': 285, 'Благовещенск': 656, 'Хабаровск': 287, 'Владивосток': 288, 'Волжский': 427, 'Звёздный Городок': 291, 'Максатиха': 293, 'Ковров': 294, 'Подгорное': 296, 'Мамыри': 297, 'Тамбов': 298, 'Ленинск-Кузнецкий': 299, 'Вешки': 302, 'Майск': 303, 'Кировград': 305, 'Ревда': 306, 'Ивантеевка': 307, 'Зоркальцево': 310, 'Юбилейный': 311, 'Измайлово': 312, 'Магадан': 314, 'Армавир': 315, 'Гольёво': 316, 'Тында': 318, 'Шелехов': 319, 'Липецк': 320, 'Красная Пахра': 322, 'Яблоновский': 323, 'Дубовка': 324, 'Адлер': 326, 'Курчатов': 335, 'Белгород': 337, 'Новый Оскол': 341, 'Валуйки': 344, 'Борисоглебск': 352, 'Семилуки': 355, 'Лиски': 357, 'Добринка': 358, 'Доброе': 359, 'Лебедянь': 361, 'Елец': 362, 'Задонск': 365, 'Усмань': 366, 'Тербуны': 367, 'Чаплыгин': 368, 'Хлевное': 370, 'Рассказово': 371, 'Котовск': 377, 'Мичуринск': 380, 'Знаменка': 382, 'Новочебоксарск': 387, 'Вятские Поляны': 388, 'Реутов': 389, 'Шуя': 390, 'Железнодорожный': 391, 'Япония': 392, 'Псков': 393, 'Пушкин': 394, 'Смоленск': 395, 'Репино': 396, 'Вязьма': 397, 'Гагарин': 398, 'Заполярный': 401, 'Архангельск': 402, 'Череповец': 403, 'Сыктывкар': 404, 'Дюртюли': 405, 'Плесецк': 406, 'Вилючинск': 407, 'Краснокаменск': 408, 'Асино': 409, 'Редкино': 410, 'Чехов': 412, 'Нижний Новгород': 414, 'Киров': 415, 'Клинцы': 416, 'Саранск': 417, 'Новозыбков': 418, 'Чебоксары': 419, 'Шахунья': 420, 'Заречный': 614, 'Ульяновск': 422, 'Малоярославец': 423, 'Казань': 424, 'Волгоград': 426, 'Саратов': 428, 'Самара': 430, 'Тольятти': 431, 'Астрахань': 432, 'Набережные Челны': 433, 'Ростов': 434, 'Краснодар': 435, 'Новороссийск': 436, 'Сочи': 437, 'Ростов-на-Дону': 438, 'Ставрополь': 439, 'Ливны': 440, 'Грозный': 441, 'Махачкала': 442, 'Назрань': 443, 'Ефремов': 444, 'Венёв. Веневский р-н': 445, 'Богородицк': 446, 'Новомосковск': 447, 'Ясногорск': 449, 'Петрозаводск': 450, 'Новомичуринск': 459, 'Гусь-Хрустальный': 460, 'Кинешма': 462, 'Родники': 463, 'Вичуга': 465, 'Сосенки': 466, 'Бутово': 467, 'Митино': 468, 'Московский': 1172, 'Долгопрудный': 472, 'Южно-Сахалинск': 473, 'Лобня': 474, 'Опалиха': 475, 'Талдом': 477, 'Дмитров': 478, 'Солнечногорск': 479, 'Руза': 480, 'Лотошино': 481, 'Истра': 482, 'Апрелевка': 483, 'Волоколамск': 484, 'Шаховская': 485, 'Можайск': 486, 'Павловский Посад': 488, 'Шатура': 489, 'Сарапул': 491, 'Кольчугино': 492, 'Щелково': 493, 'Луховицы': 494, 'Серебряные Пруды': 495, 'Озёры': 496, 'Норвегия': 499, 'Врангель': 500, 'Находка': 501, 'Алдан': 502, 'Пенза': 504, 'Воронеж': 506, 'Троицк': 690, 'Тобольск': 512, 'Стрежевой': 515, 'Малаховка': 516, 'Шереметьево': 517, 'Усть-Кут': 519, 'Одинцово': 520, 'Красногорск': 521, 'Сергиев Посад': 522, 'Лешково': 523, 'Котельники': 524, 'Краснообск': 525, 'Данилов': 531, 'Любучаны': 533, 'Монино': 534, 'Лосино-Петровский': 536, 'Россошь': 537, 'Жуковка': 538, 'Урай': 540, 'Володарск': 541, 'Северобайкальск': 543, 'Гусиноозерск': 544, 'Бирск': 548, 'Зеленинские Дворики': 552, 'Новая Усмань': 557, 'Глазов': 561, 'Чайковский': 563, 'Березники': 564, 'Красновишерск': 565, 'Усолье': 566, 'Губаха': 567, 'Лысьва': 568, 'Гремячинск': 569, 'Берёзовка': 570, 'Соликамск': 572, 'Верещагино': 573, 'Кизел': 574, 'Чусовой': 575, 'Орда': 577, 'Уинское': 578, 'Кудымкар': 579, 'Чернушка': 580, 'Куеда': 581, 'Добрянка': 582, 'Частые': 584, 'Горнозаводск': 585, 'Кунгур': 586, 'Нытва': 587, 'Краснокамск': 588, 'Александровск': 589, 'Суксун': 590, 'Ильинский': 591, 'Сива': 592, 'Очер': 593, 'Оханск': 594, 'Оса': 595, 'Елово': 596, 'Карагай': 597, 'Барда': 598, 'Североуральск': 599, 'Краснотурьинск': 600, 'Серов': 601, 'Арамиль': 602, 'Качканар': 603, 'Кушва': 604, 'Верхняя Салда': 605, 'Полевской': 606, 'Верхний Тагил': 607, 'Асбест': 608, 'Верхняя Пышма': 609, 'Березовский': 610, 'Новоуральск': 611, 'Талица': 612, 'Камышлов': 613, 'Каменск-Уральский': 615, 'Первоуральск': 616, 'Ялуторовск': 617, 'Губкинский': 618, 'Заводоуковск': 619, 'Ишим': 620, 'Нефтеюганск': 621, 'Когалым': 623, 'Лангепас': 624, 'Ханты-Мансийск': 625, 'Нягань': 626, 'Югорск': 627, 'Туймазы': 628, 'Нефтекамск': 629, 'Белебей': 631, 'Киргиз-Мияки': 632, 'Агидель': 634, 'Красноусольский': 635, 'Ермекеево': 636, 'Бакалы': 637, 'Бижбуляк': 638, 'Караидель': 639, 'Толбазы': 640, 'Федоровка': 641, 'Языково': 642, 'Мишкино': 644, 'Новобелокатай': 645, 'Баймак': 646, 'Зилаир': 647, 'Аскарово': 648, 'Бураево': 649, 'Акъяр': 651, 'Николо-Берёзовка': 652, 'Кумертау': 653, 'Верхнеяркеево': 654, 'Кармаскалы': 655, 'Давлеканово': 658, 'Шаран': 659, 'Большеустьикинское': 660, 'Аскино': 661, 'Буздяк': 662, 'Архангельское': 663, 'Сибай': 664, 'Красная Горка': 665, 'Малояз': 666, 'Верхние Татышлы': 667, 'Кушнаренково': 669, 'Учалы': 670, 'Стерлибашево': 671, 'Ишимбай': 672, 'Иглино': 673, 'Чекмагуш': 674, 'Чишмы': 675, 'Салехард': 677, 'Муравленко': 678, 'Ноябрьск': 679, 'Лабытнанги': 680, 'Надым': 681, 'Тарко-Сале': 682, 'Карталы': 684, 'Златоуст': 685, 'Касли': 686, 'Кыштым': 687, 'Аша': 688, 'Сатка': 689, 'Озерск': 692, 'Снежинск': 693, 'Петухово': 694, 'Шадринск': 695, 'Гай': 696, 'Орск': 697, 'Курск': 699, 'Калманка': 701, 'Знамя Октября': 702, 'Азово': 710, 'Таврическое': 711, 'Черлак': 712, 'Калачинск': 713, 'Горьковское': 714, 'Одесское': 715, 'Марьяновка': 716, 'Кормиловка': 717, 'Тара': 718, 'Павлоградка': 719, 'Любинский': 720, 'Богашёво': 722, 'Северск': 723, 'Мельниково': 724, 'Каргасок': 725, 'Колпашево': 726, 'Тогучин': 727, 'Бердск': 728, 'Черепаново': 729, 'Сузун': 730, 'Маслянино': 731, 'Мошково': 732, 'Болотное': 733, 'Чулым': 734, 'Коченёво': 735, 'Колывань': 736, 'Баган': 737, 'Довольное': 738, 'Карасук': 739, 'Кочки': 740, 'Краснозерское': 741, 'Купино': 742, 'Ордынское': 743, 'Северное': 744, 'Барабинск': 745, 'Куйбышев': 746, 'Здвинск': 747, 'Татарск': 748, 'Каргат': 749, 'Чаны': 751, 'Венгерово': 753, 'Кыштовка': 754, 'Усть-Тарка': 755, 'Обь': 756, 'Промышленная': 758, 'Мариинск': 759, 'Верх-Чебула': 760, 'Берёзовский': 761, 'Крапивинский': 762, 'Юрга': 765, 'Белово': 766, 'Анжеро-Судженск': 767, 'Топки': 768, 'Ижморский': 770, 'Киселёвск': 772, 'Прокопьевск': 773, 'Осинники': 775, 'Мыски': 776, 'Междуреченск': 777, 'Яровое': 778, 'Панкрушиха': 779, 'Павловск': 1388, 'Ребриха': 781, 'Мамонтово': 782, 'Горняк': 783, 'Змеиногорск': 784, 'Тюменцево': 785, 'Камень-на-Оби': 786, 'Зональное': 787, 'Новоалтайск': 788, 'Троицкое': 790, 'Красногорское': 791, 'Гальбштадт': 792, 'Шипуново': 793, 'Топчиха': 794, 'Алейск': 795, 'Поспелиха': 797, 'Рубцовск': 798, 'Староалейское': 799, 'Романово': 800, 'Завьялово': 801, 'Родино': 802, 'Благовещенка': 803, 'Волчиха': 804, 'Кулунда': 805, 'Славгород': 806, 'Хабары': 807, 'Петропавловское': 810, 'Чарышское': 811, 'Белокуриха': 814, 'Ключи': 815, 'Тальменка': 817, 'Тогул': 820, 'Горно-Алтайск': 822, 'Абакан': 823, 'Черногорск': 824, 'Шира': 825, 'Белый Яр': 1017, 'Саяногорск': 827, 'Дудинка': 828, 'Енисейск': 831, 'Казачинское': 832, 'Большая Мурта': 834, 'Сосновоборск': 835, 'Минусинск': 836, 'Емельяново': 837, 'Краснотуранск': 838, 'Курагино': 840, 'Каратузское': 841, 'Ермаковское': 842, 'Агинское': 1434, 'Кодинск': 844, 'Дивногорск': 845, 'Лесосибирск': 846, 'Уяр': 847, 'Новоселово': 848, 'Новобирилюссы': 851, 'Шарыпово': 852, 'Козулька': 853, 'Назарово': 854, 'Ужур': 855, 'Боготол': 856, 'Канск': 859, 'Богучаны': 860, 'Тасеево': 861, 'Заозерный': 862, 'Дзержинск': 863, 'Бородино': 1301, 'Зеленогорск': 865, 'Нижний Ингаш': 866, 'Иланский': 867, 'Ирбейское': 868, 'Березовка': 869, 'Железногорск': 870, 'Кызыл': 871, 'Залари': 872, 'Саянск': 873, 'Зима': 874, 'Нижнеудинск': 875, 'Тулун': 876, 'Братск': 877, 'Усть-Илимск': 878, 'Усть-Ордынский': 879, 'Усолье-Сибирское': 880, 'Усть-Уда': 881, 'Новонукутский': 883, 'Тайшет': 885, 'Железногорск-Илимский': 886, 'Киренск': 888, 'Гусев': 890, 'Мирный': 891, 'Нерюнгри': 892, 'Корф': 894, 'Елизово': 895, 'Белогорск': 896, 'Амурск': 900, 'Де-Кастри': 902, 'Комсомольск-на-Амуре': 903, 'Большой Камень': 904, 'Фокино': 906, 'Покровка': 907, 'Биробиджан': 914, 'Богородское': 918, 'Великобритания': 919, 'Мытищи': 920, 'Боровский': 922, 'Грязи': 930, 'Плоскошь': 938, 'Кимовск': 939, 'Покров': 940, 'Волгореченск': 941, 'Нарьян-Мар': 943, 'Мелеуз': 946, 'Просвет': 947, 'Чашниково': 950, 'Каменоломни': 953, 'Уссурийск': 955, 'Шебекино': 957, 'Анапа': 959, 'Копейск': 961, 'Южноуральск': 962, 'Звенигород': 964, 'Хотьково': 966, 'Коломна': 967, 'Пустошка': 968, 'Кириши': 970, 'Выборг': 971, 'Дружино': 972, 'Кировск': 973, 'Волхов': 974, 'Лодейное Поле': 975, 'Подпорожье': 976, 'Бокситогорск': 977, 'Тихвин': 978, 'Сосновый Бор': 979, 'Всеволожск': 980, 'Гатчина': 981, 'Сланцы': 982, 'Ломоносов': 983, 'Отрадное пос': 984, 'Олонец': 985, 'Костомукша': 986, 'Мончегорск': 987, 'Апатиты': 989, 'Сокол': 991, 'Великий Устюг': 992, 'Ростилово': 993, 'Вельск': 994, 'Северодвинск': 996, 'Новодвинск': 997, 'Печора': 998, 'Воркута': 999, 'Балахна': 1000, 'Кстово': 1001, 'Арзамас': 1002, 'Лысково': 1003, 'Бор': 1004, 'Городец': 1005, 'Дальнее Константиново': 1006, 'Заволжье': 1007, 'Богородск': 1008, 'Павлово': 1009, 'Сосновское': 1011, 'Навашино': 1012, 'Кулебаки': 1013, 'Выкса': 1014, 'Пильна': 1015, 'Кайеркан': 1020, 'Кузнецк': 1021, 'Чистополь': 1022, 'Нурлат': 1023, 'Камышин': 1025, 'Фролово': 1026, 'Красноармейск': 1028, 'Красная Глинка': 1030, 'Новокуйбышевск': 1031, 'Сызрань': 1033, 'Октябрьск': 1034, 'Приволжье': 1035, 'Кошки': 1036, 'Клявлино': 1038, 'Исаклы': 1039, 'Похвистнево': 1041, 'Красный Яр': 1179, 'Кинель-Черкасcы': 1043, 'Отрадный': 1044, 'Жигулёвск': 1045, 'Кинель': 1046, 'Борское': 1047, 'Нефтегорск': 1048, 'Алексеевка пос.': 1049, 'Большая Черниговка': 1050, 'Большая Глушица': 1051, 'Красноармейское': 1052, 'Безенчук': 1053, 'Альметьевск': 1054, 'Бугульма': 1055, 'Елабуга': 1056, 'Афипский': 1057, 'Тимашевск': 1058, 'Крымск': 1059, 'Миллерово': 1060, 'Кропоткин': 1061, 'Геленджик': 1062, 'Приморско-Ахтарск': 1063, 'Славянск-на-Кубани': 1064, 'Темрюк': 1065, 'Азов': 1068, 'Таганрог': 1069, 'Аксай': 1228, 'Новочеркасск': 1071, 'Батайск': 1072, 'Заводской': 1074, 'Волгодонск': 1075, 'Лермонтов': 1076, 'Георгиевск': 1077, 'Михайловск': 1078, 'Невинномысск': 1079, 'Буденновск': 1080, 'Нальчик': 1081, 'Владикавказ': 1082, 'Натырбово': 1083, 'Черкесск': 1085, 'Ейск': 1087, 'Георгиевская': 1088, 'Балаково': 1089, 'Ухта': 1093, 'Раменское': 1095, 'Андреевка': 1096, 'Балашиха': 1097, 'Бронницы': 1099, 'Видное': 1100, 'Голицыно': 1102, 'Дзержинский': 1103, 'Верхний Уфалей': 1104, 'Углич': 1110, 'Капустино': 1112, 'Мценск': 1115, 'Верея': 1118, 'Климовск': 1121, 'Байкальск': 1124, 'Ангелово': 1125, 'Лесной Городок': 1126, 'Новокосино': 1129, 'Гайны': 1132, 'Кочёво': 1134, 'Юсьва': 1136, 'Мегион': 1137, 'Месягутово': 1139, 'Николаевск': 1144, 'Михайловское': 1147, 'Дальнегорск': 1148, 'Вершина Теи': 1149, 'Копьево': 1150, 'Дзержинское': 1152, 'Мотыгино': 1154, 'Партизанское': 1155, 'Северо-Енисейский': 1156, 'Сухобузимское': 1157, 'Бодайбо': 1160, 'Чунский': 1161, 'Брюховецкая': 1166, 'Остров': 1168, 'Коряжма': 1170, 'Весенний': 1171, 'Израиль': 1173, 'Домодедово': 1174, 'Каскара': 1178, 'Турция': 1183, 'Менделеево': 1187, 'Кондрово': 1188, 'Калтан': 1189, 'Печерск': 1190, 'Артёмовский': 1191, 'Слюдянка': 1192, 'Элитный': 1194, 'Быково': 1195, 'Александров': 1196, 'Вязники': 1197, 'Мосрентген': 1198, 'Воскресенск': 1203, 'Ногинск': 1204, 'Стрельна': 1207, 'Сестрорецк': 1208, 'Сертолово': 1209, 'Петергоф (Петродворец)': 1210, 'Песочный': 1211, 'Парголово': 1213, 'Мурино': 1214, 'Ворсма': 1215, 'Советский': 1217, 'Бузулук': 1218, 'Богатое': 1221, 'Елховка': 1222, 'Кошехабль': 1229, 'Губкин': 1230, 'Саров': 1231, 'Михайловка': 1232, 'Майкоп': 1233, 'Ессентуки': 1235, 'Аньково': 1238, 'Каменск-Шахтинский': 1245, 'Криводановка': 1246, 'Томилино': 1250, 'Усть-Лабинск': 1251, 'Николо-Хованское': 1252, 'Чик': 1256, 'Шушенское': 1258, 'Ачинск': 1259, 'Заречье': 1263, 'Заветы Ильича': 1266, 'Ирбит': 1267, 'Канада': 1268, 'Малоенисейское': 1271, 'Новосемейкино': 1273, 'Обнинск': 1276, 'Ново-Переделкино': 1277, 'Кольцово': 1278, 'Железноводск': 1280, 'Металлострой': 1285, 'Мга': 1286, 'Кронштадт': 1287, 'Красное Село': 1288, 'Колпино': 1289, 'Новое Девяткино': 1290, 'Бугры': 1291, 'Карпинск': 1293, 'Удачный': 1298, 'Жуковский': 1299, 'Гулькевичи': 1300, 'Львовский': 1302, 'Старосырово': 1303, 'Бежецк': 1304, 'Горелово': 1305, 'Острогожск': 1309, 'Марусино': 1310, 'Зарайск': 1314, 'Великие Луки': 1315, 'Гуково': 1316, 'Знаменское': 1317, 'Электрогорск': 1319, 'Ленино': 1323, 'Мурмаши': 1324, 'Детчино': 1329, 'Тайвань': 1330, 'Новая Зеландия': 1332, 'Полысаево': 1333, 'Невьянск': 1335, 'Алапаевск': 1337, 'Нижняя Тура': 1339, 'Тазовский': 1340, 'Вьетнам': 1341, 'Полазна': 1342, 'Юго-Камский': 1343, 'Аргаяш': 1344, 'Австралия': 1345, 'Гибралтар': 1346, 'Еманжелинск': 1347, 'Португалия': 1348, 'Тахтамукай': 1350, 'Анна': 1353, 'Бобров': 1354, 'Богучар': 1355, 'Верхний Мамон': 1356, 'Верхняя Хава': 1357, 'Грибановский': 1358, 'Кантемировка': 1359, 'Каширское': 1360, 'Нововоронеж': 1362, 'Новохоперск': 1363, 'Ольховатка': 1364, 'Панино': 1365, 'Поворино': 1366, 'Рамонь': 1368, 'Таловая': 1369, 'Хохольский': 1370, 'Эртиль': 1371, 'Богданович': 1373, 'Кожухово': 1376, 'Куркино': 1377, 'Мотяково': 1379, 'Немчиновка': 1380, 'Павельцево': 1381, 'Толстопальцево пос.': 1383, 'Чёрная Грязь': 1385, 'Апшеронск': 1386, 'Торжок': 1387, 'Полтавка': 1389, 'Большеречье': 1390, 'Крутинка': 1391, 'Усть-Ишим': 1392, 'Тевриз': 1393, 'Седельниково': 1394, 'Чугунлы': 1395, 'Муромцево': 1396, 'Тюкалинск': 1397, 'Называевск': 1398, 'Русская Поляна': 1401, 'Нововаршавка': 1402, 'Лесной': 1403, 'Старобалтачево': 1405, 'Старосубхангулово': 1406, 'Нижняя Мактама': 1407, 'Иволгинск': 1408, 'Тутаев': 1409, 'Пошехонье': 1410, 'Мышкин': 1411, 'Карабиха': 1412, 'Петровск': 1413, 'Сысерть': 1414, 'Ленск': 1416, 'Томмот': 1417, 'Белая Гора': 1418, 'Ытык-Кюель': 1419, 'Амга': 1420, 'Сангар': 1421, 'Майя': 1422, 'Намцы': 1423, 'Черский': 1424, 'Оленек': 1425, 'Сунтар': 1426, 'Борогонцы': 1427, 'Депутатский': 1428, 'Олекминск': 1429, 'Игрим': 1430, 'Междуреченский': 1431, 'Рефтинский': 1436, 'Гаврилов-Ям': 1437, 'Аян': 1438, 'Ростоши': 1439, 'Излучинск': 1440, 'Красноселькуп': 1441, 'Мужи': 1442, 'Андреаполь': 1443, 'Бологое': 1445, 'Вышний Волочёк': 1446, 'Западная Двина': 1447, 'Калязин': 1449, 'Кашин': 1450, 'Кимры': 1451, 'Конаково': 1452, 'Красный Холм': 1453, 'Кувшиново': 1454, 'Лихославль': 1455, 'Нелидово': 1456, 'Осташков': 1457, 'Ржев': 1458, 'Старица': 1459, 'Торопец': 1460, 'Удомля': 1461, 'Упорово': 1466, 'Александровское': 1468, 'Безопасное': 1469, 'Благодарный': 1470, 'Грачевка': 1471, 'Дивное': 1472, 'Донское': 1473, 'Зеленокумск': 1474, 'Ипатово': 1475, 'Кочубеевское': 1476, 'Красногвардейское': 1477, 'Курсавка': 1478, 'Курская': 1479, 'Левокумское': 1480, 'Летняя Ставка': 1481, 'Новоалександровск': 1482, 'Светлоград': 1484, 'Солнечнодольск': 1485}

